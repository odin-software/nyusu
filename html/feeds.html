{{ define "css" }}
<link rel="stylesheet" href="/static/css/index.css" />
{{ end }}

{{ define "body" }}
<section class="posts">
  <ul class="posts-list">
    {{ if .Feeds }}
    {{ range .Feeds }}
    <li>
      {{ if .Link.Valid }}
      <a rel="noopener noreferrer" target="_blank" href="{{ .Link.String }}">{{ .Name }}</a>
      {{ else }}
      <a rel="noopener noreferrer" href="/feeds/{{ .ID }}">{{ .Name }}</a>
      {{ end }}
      <span class="feed-description">{{ .Description.String }}</span>
      <form method="post" action="/unsubscribe/{{ .FeedFollowID }}" class="unsubscribe-form">
        <button type="submit" class="unsubscribe-btn"
          onclick="return confirm('Are you sure you want to unsubscribe from this feed?')">Unsubscribe</button>
      </form>
    </li>
    {{ end }}
    {{ else }}
    <span>no feeds</span>
    {{ end }}
  </ul>
  {{ if or .Pagination.HasPrev .Pagination.HasNext }}
  <nav class="pagination">
    {{ if .Pagination.HasPrev }}<a href="?pageNumber={{ sub .Pagination.PageNumber 1 }}">Prev</a>{{ end }}
    <span>Page {{ .Pagination.PageNumber }}</span>
    {{ if .Pagination.HasNext }}<a href="?pageNumber={{ add .Pagination.PageNumber 1 }}">Next</a>{{ end }}
  </nav>
  {{ end }}
</section>
{{ end }}
